(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)r=o[d],s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},"10dc":function(t,e,i){"use strict";var n=i("bc44"),s=i.n(n);s.a},"1a32":function(t,e,i){"use strict";var n=i("db3e"),s=i.n(n);s.a},"1e9f":function(t,e,i){"use strict";var n=i("c445"),s=i.n(n);s.a},"288f":function(t,e,i){},3841:function(t,e,i){"use strict";var n=i("d774"),s=i.n(n);s.a},3935:function(t,e,i){"use strict";var n=i("8809"),s=i.n(n);s.a},"47d2":function(t,e,i){"use strict";var n=i("93a4"),s=i.n(n);s.a},"4e6b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAABSCAYAAAAiskb3AAAABGdBTUEAALGPC/xhBQAAA91JREFUaAXtmT9PFEEYxu8sqGgxURPoSNR4lYHKBL8AH0D9KFjZYEXoaCESeyL1FfAJ/AOhIWjiWVhSYKPn8zveudvbf7ezN1z2knmTJ/P3febZd2dnZ2dbrcDWNwtM27oXmvCu+KLQ0JGNEY0RDR2B0HxxjsaIho5AaL44R2NEQ0cgNF+cozGioSMQmi/O0RjR0BEIzRfnaIxo6AiE5otzNEY0dARC88U5GiMaOgKh+eIcjRENHYHQfO1pCPVL6Zn8N4UnwsMElG31EjhT/qjdbn+hYSaGOGFHuBR8DR98uUAvqxxRkS+L+Z3wRnCrxS/lj4QT4afgogjvA4EoPxJeCESeOuyf8EF4qyj/oGJqk8AF4b1wI2B/hF1hXfC50Lb54AsHBue2sDCVUBEsCScC9lc4EFamIpUzHMYFJ8YYS7V45dgRrgTsu/C8FlGJE5zGrWQwVqeke7ZJToi8xlt2KtzP9gpTA7eNoWQwZjWx6sztdpH8qPx086fC9TCGwFgYY5dPA3XAwc1JInnnIt112NiMiaGheGw18nRjzMk7u91OXDplTBtbSX873T4oq2FZYNngSQz+4OQOmlPJ2KaBpYu1e9xUuS9gB+Mto5LajgVuT/kcGrlkcvgax3Gm0SrUzjKI7Y/1UQWvRSJJRAvXSbW5OfRVeW+x+Aj4YqdjIhIFta0I7u6OXreq5P2L7Sb6Z7JqTw7kJdbXFy0CtjMUooLbYKwNKwsy6usttqYPr2jsciBFGRZ3rCdUenerX2WxPn2TsUGLgCasw3t3a5Dt9/eSHSfl5TNRbJU+ZePIf8+0bSH00Aqvypzy2uRXKLasLY8rr04cr03bIUK7VtjI6zypTr4ZsXl1k3jy2sWzYdq6CL2wwmpe5yp18k+LdUuQ18qQHku8q6btAqFul7SY7uhTNrHnRkxC3nutTY4p/0WIZNfuk4L2Sk98kmgG+ZEmqZ2bW98ltrKNOhGSX3p+Us7U1eQePkzc+p6R8LXoZQiSQ1d4KnwTXuqr8jcgb3W0da2vsl7mNPUQem6ufNJWtiKRjiCQWKfpjKeenRPW5Ffo7Q5KIt2mZN1FpChVX+/5V9NnfFOCIBHNzTZvPjbOFtVZfYq47/hPJdMr/1PEhM7Hx52Jbf7nsgld0IPV/AMIE8vycyVgzTzSQSgmgc0/JLuVOhTrIssRT/DTEzgFuDHGqnaS50S6VI5MAzdnOaBo3kFuQiwPGKsBJxcYKYcDa8JoY+scClL6mk+to3GfgXx+NiDX/c6Zzc+GdIAUlWb/vkkLpizRTP5N4bHgIkiKsSF3YM/LD7HPNNSx/zKX2KU4Lw/xAAAAAElFTkSuQmCC"},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.runningEnvState?i("router-view"):i("div",{staticClass:"tips--error"},[t._v("\n    该地址不能通过该形式打开！\n")])},a=[],r={data:function(){return{runningEnv:""}},props:["type"],computed:{env:function(){return this.$store.state.env},runningEnvState:function(){return"worker"===this.$route.params.type&&"wxminiprogram"===this.env||"worker"!==this.$route.params.type}},watch:{runningEnvState:function(){return this.$store.commit("updateState",{name:"runningEnvState",value:this.runningEnvState})}},mounted:function(){}},o=r,c=(i("034f"),i("2877")),u=Object(c["a"])(o,s,a,!1,null,null,null);u.options.__file="App.vue";var l=u.exports,d=i("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[n("ol",{staticClass:"swiper-wrapper"},t._l(t.templateData.pages,function(t,e){return n("li",{key:e,staticClass:"swiper-slide"},[n("slide-page",{attrs:{source:t}})],1)}),0),n("div",{staticClass:"swiper-pagination"}),t.hadLoad?t._e():n("div",{staticClass:"loading-container"},[n("img",{attrs:{src:i("cf1c"),width:"20%"}})])])},f=[],v=i("41d6"),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("eleBg",{attrs:{source:t.source.bg}}),i("div",{staticClass:"page-content",style:t.style},[t._l(t.source.imgs,function(e,n){return[e.url?i("eleImg",{key:"img"+n,attrs:{source:e}}):t._e()]}),t._l(t.source.hotspot,function(t,e){return i("eleHotspot",{key:"hotspot"+e,attrs:{source:t}})}),t.source.plug.status?i("canvasPlug",{attrs:{source:t.source}}):t._e()],2)],1)},h=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"canvas-plug"},[i("div",{staticClass:"plugStep_menu"},[i("div",{staticClass:"menu-btn-wrap"},[t.joinInfo.join_list.length>0?i("div",{staticClass:"invite-wrap"},[1==t.source.plug.step_2.formatType?i("div",{staticClass:"flex-center"},[i("div",{staticClass:"invite-style-1"},[i("div",{staticClass:"invite-title"},[t._v("已有"+t._s(t.joinInfo.join_num)+"个小伙伴帮砍价")]),i("div",{staticClass:"flex-star invite-desc"},[i("div",{staticClass:"overed-money"},[t._v("已砍价"+t._s(t.joinInfo.total_price)+"元，加油")]),i("div",{staticClass:"show-dsc-link",on:{click:t.showBargainDesc}},[t._v("查看详情>>")])])]),i("div",{staticClass:"head-model flex-star"})]):t._e(),2==t.source.plug.step_2.formatType?i("div",{staticClass:"flex-center invite-style-2-wrap"},[i("div",{staticClass:"head-model flex-star"}),i("div",{staticClass:"invite-style-2"},[i("div",{staticClass:"invite-title"},[t._v("已有"+t._s(t.joinInfo.join_num)+"个小伙伴帮砍价")]),i("div",{staticClass:"flex-star invite-desc"},[i("div",{staticClass:"overed-money"},[t._v("已砍价"+t._s(t.joinInfo.total_price)+"元，加油")])])]),i("div",{staticClass:"show-dsc-link",on:{click:t.showBargainDesc}},[t._v("查看详情")])]):t._e()]):t._e(),t.activity.bargain_rule&&0==t.joinInfo.is_receive&&t.joinInfo.total_price<t.activity.bargain_rule.target_price?i("div",{staticClass:"flex-star"},[t.source.plug.isShowBtn?i("div",{staticClass:"show-desc-btn menu-btn",style:[t.leftStyle],on:{click:function(e){t.linkDetail(t.source.plug.linkUrl)}}},[t._v(t._s(t.source.plug.leftText)+"\n                ")]):t._e(),i("div",{staticClass:"start-bargain-btn menu-btn",style:[t.rightStyle],on:{click:t.startBargain}},[t._v("\n                    "+t._s(t.joinInfo.join_list.length>0?t.source.plug.inviteText:t.source.plug.rightText)+"\n                ")])]):t._e(),"worker"!=t.curType?i("div",{staticClass:"flex-star"},[t.source.plug.isShowBtn?i("div",{staticClass:"show-desc-btn menu-btn",style:[t.leftStyle],on:{click:function(e){t.linkDetail(t.source.plug.linkUrl)}}},[t._v(t._s(t.source.plug.leftText)+"\n                ")]):t._e(),i("div",{staticClass:"start-bargain-btn menu-btn",style:[t.rightStyle],on:{click:t.startBargain}},[t._v(t._s(t.source.plug.rightText)+"\n                ")])]):t._e(),t.activity.bargain_rule&&t.joinInfo.total_price>=t.activity.bargain_rule.target_price?i("div",{staticClass:"flex-star"},[t.source.plug.isShowBtn?i("div",{staticClass:"show-desc-btn menu-btn",style:[t.leftStyle],on:{click:function(e){t.linkDetail(t.source.plug.linkUrl)}}},[t._v(t._s(t.source.plug.leftText)+"\n                ")]):t._e(),i("div",{staticClass:"start-bargain-btn menu-btn",style:[t.rightStyle],on:{click:t.isReceive}},[t._v("\n                    "+t._s(0==t.joinInfo.is_receive?"领取卡券":"查看卡券")+"\n                ")])]):t._e()])]),t.isStep_5?i("plug-step_5",{attrs:{activeInfo:t.activity,source:t.source},on:{addUserInfo:t.addUserInfo,closeStep_5:t.closeStep_5}}):t._e(),t.isStep_1?i("plug-step_1",{attrs:{activeInfo:t.activity,isHelped:t.isHelped,source:t.source,joinInfo:t.joinInfo},on:{bargainInfo:t.getBargainInfo}}):t._e(),i("plug-step_4",{directives:[{name:"show",rawName:"v-show",value:t.isStep_4&&Object.keys(t.activity).length>0,expression:"isStep_4 && Object.keys(activity).length > 0"}],attrs:{activeInfo:t.activity,isMyself:t.isMyself,source:t.source,bargainInfo:t.joinInfo,editor_id:t.editor_id},on:{closeStep_4:t.closeStep_4,helpBargain:t.helpBargain}}),t.isCardDetail?i("card-details",{attrs:{source:t.source,cardInfo:t.cardInfo,activeInfo:t.activity,joinInfo:t.joinInfo},on:{closeCard:t.closeCard}}):t._e()],1)},_=[],b=(i("96cf"),i("3b8d")),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"plugStep_1_wrap"},[i("div",{staticClass:"plugStep_1",style:[t.bgImg]},[i("div",{staticClass:"headImg-wrap"},[t.source.plug.step_1.isShowHeadBg?i("div",{staticClass:"upload-img",style:[t.headImg]}):t._e()]),i("div",{staticClass:" project-style"},[1==t.source.plug.step_1.formatType?i("div",{staticClass:"project-style-1 text-center"},[i("div",{staticClass:"project-name",style:{color:t.source.plug.step_1.setName.name}},[t._v("\n                    "+t._s(t.activeInfo.gift_tag)+"\n                ")]),i("div",{staticClass:"project-price"},[i("span",{style:{color:t.source.plug.step_1.setName.desc}},[t._v("已经砍了"),i("b",{style:{color:t.source.plug.step_1.setName.price}},[t._v(t._s(t.joinInfo.total_price))]),t._v("元")])])]):t._e(),2==t.source.plug.step_1.formatType?i("div",{staticClass:"project-style-2 text-center"},[i("div",{staticClass:"project-name",style:{color:t.source.plug.step_1.setName.name}},[t._v("\n                    "+t._s(t.activeInfo.gift_tag)+"\n                ")]),i("div",{staticClass:"text-1",style:{color:t.source.plug.step_1.setName.desc}},[t._v("已经砍了")]),i("div",{staticClass:"project-price",style:{color:t.source.plug.step_1.setName.price}},[i("b",[t._v(t._s(t.joinInfo.total_price))]),t._v("元\n                ")])]):t._e(),i("button",{staticClass:"confirm-btn",style:[t.btnStyle],on:{click:t.closeToast}},[t._v(t._s(t.isHelped?"我也要省钱":t.source.plug.step_1.confirmText))])])])])},w=[],C={data:function(){return{browserId:this.$route.query.uid}},props:["activeInfo","source","joinInfo","isHelped"],computed:{bgImg:function(){return this.source.plug.step_1.setBgImg},headImg:function(){return this.source.plug.step_1.setHeadImg},btnStyle:function(){return this.source.plug.step_1.setBtn}},methods:{closeToast:function(){this.$emit("bargainInfo")}}},I=C,S=(i("9e38"),Object(c["a"])(I,y,w,!1,null,"11c4ca53",null));S.options.__file="plugStep_1.vue";var x=S.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugStep_4",style:[t.bgImg]},[n("div",{staticClass:"start-invite-wrap"},[n("div",{staticClass:"img-wrap",style:[t.cardBg]},[1==t.activeInfo.bargain_gift.show_type?n("div",{staticClass:"card-style-1"},[n("div",{staticClass:"offset-wrap"},[n("div",{staticClass:"card-num text-right"},[t._v("NO."+t._s(t.activeInfo.bargain_gift.gift.id))]),n("div",{staticClass:"flex-space-between"},[n("div",[n("div",{staticClass:"deduction-price"},[n("span",[t._v("￥"),n("b",{staticClass:"deduction-price-num"},[t._v(t._s(t.activeInfo.bargain_gift.gift.price))]),t._v("元"+t._s((t.activeInfo.bargain_gift.gift,"优惠券")))])]),n("div",{staticClass:"deduction-name"},[t._v(t._s(t.activeInfo.bargain_gift.gift.name))])]),n("div",{staticClass:"qrcode"})])]),n("div",{staticClass:"term text-center"},[t._v(t._s(t.activeInfo.bargain_gift.gift.valid_start_time.split(" ")[0])+" ——\n                    "+t._s(t.activeInfo.bargain_gift.gift.valid_end_time.split(" ")[0])+"\n                ")])]):t._e(),2==t.activeInfo.bargain_gift.show_type?n("div",{staticClass:"card-style-2 flex-space-between"},[n("div",{staticClass:"left-model text-left"},[n("div",{staticClass:"flex-space-between card-num-info align-start"},[n("div",{staticClass:"card-num"},[t._v("NO."+t._s(t.activeInfo.bargain_gift.gift.id))]),n("div",{staticClass:"qrcode"})]),n("div",{staticClass:"deduction-name"},[t._v(t._s(t.activeInfo.bargain_gift.gift.name))]),n("div",{staticClass:"term text-left"},[t._v(t._s(t.activeInfo.bargain_gift.gift.valid_start_time.split(" ")[0])+" ——\n                        "+t._s(t.activeInfo.bargain_gift.gift.valid_end_time.split(" ")[0]))])]),n("div",{staticClass:"right-model"},[n("div",{staticClass:"deduction-price row-1"},[t._v(t._s((t.activeInfo.bargain_gift.gift,"优惠券")))]),n("div",[n("span",{staticClass:"deduction-price"},[t._v("￥")]),n("b",{staticClass:"deduction-price-num"},[t._v(t._s(t.activeInfo.bargain_gift.gift.price))])])])]):t._e()]),n("div",{staticClass:"invited-num"},[t._v("已有"+t._s(t.activeInfo.bargain_gift.total-t.activeInfo.bargain_gift.surplus)+"人成功领券")]),n("div",{staticClass:"project-name",style:[t.step_4.name.style]},[t._v(t._s(t.activeInfo.gift_tag))]),n("div",{staticClass:"count-num"},[n("div",{staticClass:"time-name"},[t._v(t._s(t.isOver?t.isOver:"活动仅剩:"))]),n("div",{staticClass:"count-time"},[n("div",{class:t.step_4.countTime.sizeType,style:[t.step_4.countTime.style]},[n("b",[t._v(t._s(t.timeObj.days||"00"))]),n("span",[t._v("天")]),n("b",[t._v(t._s(t.timeObj.hours||"00"))]),n("span",[t._v("小时")]),n("b",[t._v(t._s(t.timeObj.minutes||"00"))]),n("span",[t._v("分")])])])]),n("div",{staticClass:"max-price",style:[t.step_4.progress.textColor]},[t._v("\n            最高可砍"+t._s(t.activeInfo.bargain_rule.target_price)+"元，已砍"+t._s(t.bargainInfo.total_price)+"元\n        ")]),n("div",{staticClass:"progress-bar-wrap"},[n("div",{staticClass:"progress-bar",style:[t.step_4.progress.bar,{width:t.toPercent()}]})]),n("div",{staticClass:"flex-star user-num"},[n("div",{staticClass:"head-model flex-star"}),n("div",[t._v("已有"+t._s(t.bargainInfo.join_num)+"个小伙伴帮砍价")])]),t.source_id&&"{}"===JSON.stringify(t.bargainInfo.help_info)&&!t.isMyself&&t.bargainInfo.total_price<t.activeInfo.bargain_rule.target_price?n("button",{staticClass:"start-invite-btn",style:[t.btnStyle],on:{click:t.helpBargain}},[t._v("帮好友砍一刀\n\n        ")]):t._e(),t.source_id&&"{}"!=JSON.stringify(t.bargainInfo.help_info)&&!t.isMyself?n("button",{staticClass:"start-invite-btn",style:[t.btnStyle],on:{click:t.close}},[t._v("已帮砍价，我也要省钱\n        ")]):t._e(),t.source_id&&"{}"===JSON.stringify(t.bargainInfo.help_info)&&!t.isMyself&&t.bargainInfo.total_price>=t.activeInfo.bargain_rule.target_price?n("button",{staticClass:"start-invite-btn",style:[t.btnStyle],on:{click:t.close}},[t._v("已完成砍价，我也要省钱\n        ")]):t._e(),n("div",{staticClass:"close-btn",on:{click:t.close}},[n("img",{attrs:{src:i("78c0"),alt:""}})])])])},k=[],A=i("e814"),T=i.n(A),R=(i("a481"),{data:function(){return{browserId:this.$route.query.uid,source_id:this.$route.query.friendId,timeObj:"",isOver:"",timer:""}},props:["activeInfo","bargainInfo","source","editor_id","isMyself"],computed:{bgImg:function(){return this.source.plug.step_4.setBgImg},cardBg:function(){return this.source.plug.step_4.setCardBg},btnStyle:function(){return this.step_4.setBtn.style},step_4:function(){return this.source.plug.step_4},getActiveTime:function(){return this.activeInfo.end_time||""}},methods:{close:function(){this.$emit("closeStep_4")},helpBargain:function(){var t=this;this.$http.post({url:"/bargain/join",data:{myid:this.browserId,source_id:this.source_id,template_id:this.editor_id}}).then(function(){t.$emit("helpBargain")}).catch(function(t){var e=t.next;return e()})},freshTime:function(){var t=this;clearInterval(this.timer);var e=new Date,i=new Date(this.activeInfo.end_time.replace(/-/g,"/")),n=T()(i.getTime()-e.getTime())/1e3,s={};n>0?(this.isOver="",this.timer=setInterval(function(){n--,s.days=T()(n/60/60/24,10)>=10?T()(n/60/60/24,10):"0".concat(T()(n/60/60/24,10)),s.hours=T()(n/60/60%24,10)>=10?T()(n/60/60%24,10):"0".concat(T()(n/60/60%24,10)),s.minutes=T()(n/60%60,10)>=10?T()(n/60%60,10):"0".concat(T()(n/60%60,10)),s.seconds=T()(n%60,10)>=10?T()(n%60,10):"0".concat(T()(n%60,10)),t.timeObj=s},1e3)):(this.timeObj={},this.isOver="活动已结束",clearInterval(this.timer))},toPercent:function(){var t=this.bargainInfo.total_price,e=this.activeInfo.bargain_rule.target_price;return Math.round(t/e*1e4)/100+"%"}},watch:{getActiveTime:function(t,e){this.freshTime()}}}),E=R,B=(i("1a32"),Object(c["a"])(E,j,k,!1,null,"51043724",null));B.options.__file="plugStep_4.vue";var O=B.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"plugStep_5_wrap",on:{click:t.closeMsg}},[i("div",{staticClass:"plugStep_5",style:[t.bgImg]},[i("div",{staticClass:"headImg-wrap"},[t.source.plug.step_5.isShowHeadBg?t._e():i("div",{staticClass:"upload-img",style:[t.headImg]})]),i("div",{staticClass:"int-info-wrap flex-column"},[i("div",{staticClass:"flex-column input-blur"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"int-info",style:[t.inputStyle],attrs:{type:"text",placeholder:"输入您的姓名"},domProps:{value:t.userName},on:{blur:t.intoView,input:function(e){e.target.composing||(t.userName=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userTel,expression:"userTel"}],staticClass:"int-info",style:[t.inputStyle],attrs:{type:"text",placeholder:"输入您的手机号"},domProps:{value:t.userTel},on:{blur:t.intoView,input:function(e){e.target.composing||(t.userTel=e.target.value)}}})])]),i("div",{staticClass:" project-style"},[i("div",{staticClass:"confirm-btn",style:[t.btnStyle],on:{click:t.closeToast}},[t._v("\n                立即发起砍价\n            ")])])])])},H=[],$={data:function(){return{userName:"",userTel:""}},props:["source","activeInfo"],computed:{bgImg:function(){return this.source.plug.step_5.setBgImg},headImg:function(){return this.source.plug.step_5.setHeadImg},inputStyle:function(){return this.source.plug.step_5.setInput},btnStyle:function(){return this.source.plug.step_5.setBtn}},methods:{closeMsg:function(t){var e=document.querySelector(".plugStep_5");e&&(e.contains(t.target)||this.$emit("closeStep_5"))},closeToast:function(){var t=/^1([38]\d|5[0-35-9]|7[3678])\d{8}$/;return this.userName.length>6?(this.$toast("姓名最多输入6位"),!1):t.test(this.userTel)?void this.$emit("addUserInfo",{userName:this.userName,userTel:this.userTel}):(this.$toast("请输入正确的手机格式号"),!1)},intoView:function(){setTimeout(function(){var t=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(t-1,0))},100)}}},J=$,P=(i("5783"),Object(c["a"])(J,N,H,!1,null,"64fe189a",null));P.options.__file="plugStep_5.vue";var L=P.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugStep_1_wrap"},[n("div",{staticClass:"flex-wrap-center"},[n("div",{staticClass:"img-wrap",style:[t.cardBg]},[1==t.activeInfo.bargain_gift.show_type?n("div",{staticClass:"card-style-1"},[n("div",{staticClass:"offset-wrap"},[n("div",{staticClass:"card-num text-right"},[t._v("NO."+t._s(t.cardInfo.bargain_result.redeem_code))]),n("div",{staticClass:"flex-space-between"},[n("div",[n("div",{staticClass:"deduction-price"},[n("span",[t._v("￥"),n("b",{staticClass:"deduction-price-num"},[t._v(t._s(t.activeInfo.bargain_gift.gift.price))]),t._v("元"+t._s((t.activeInfo.bargain_gift.gift,"优惠券")))])]),n("div",{staticClass:"deduction-name"},[t._v(t._s(t.activeInfo.bargain_gift.gift.name))])]),n("div",{staticClass:"qrcode"})])]),n("div",{staticClass:"term text-center"},[t._v(t._s(t.activeInfo.bargain_gift.gift.valid_start_time.split(" ")[0])+" ——\n                    "+t._s(t.activeInfo.bargain_gift.gift.valid_end_time.split(" ")[0])+"\n                ")])]):t._e(),2==t.activeInfo.bargain_gift.show_type?n("div",{staticClass:"card-style-2 flex-space-between"},[n("div",{staticClass:"left-model text-left"},[n("div",{staticClass:"flex-space-between card-num-info align-start"},[n("div",{staticClass:"card-num"},[t._v("NO."+t._s(t.cardInfo.bargain_result.redeem_code))]),n("div",{staticClass:"qrcode"})]),n("div",{staticClass:"deduction-name"},[t._v(t._s(t.activeInfo.bargain_gift.gift.name))]),n("div",{staticClass:"term text-left"},[t._v(t._s(t.activeInfo.bargain_gift.gift.valid_start_time.split(" ")[0])+" ——\n                        "+t._s(t.activeInfo.bargain_gift.gift.valid_end_time.split(" ")[0])+"\n                    ")])]),n("div",{staticClass:"right-model"},[n("div",{staticClass:"deduction-price row-1"},[t._v(t._s((t.activeInfo.bargain_gift.gift,"优惠券")))]),n("div",[n("span",{staticClass:"deduction-price"},[t._v("￥")]),n("b",{staticClass:"deduction-price-num"},[t._v(t._s(t.activeInfo.bargain_gift.gift.price))])])])]):t._e(),n("div",{staticClass:"close-card",on:{click:t.closeToast}},[n("img",{attrs:{src:i("4e6b"),alt:""}})])])])])},F=[],M={data:function(){return{}},props:["activeInfo","source","joinInfo","cardInfo"],computed:{cardBg:function(){return this.source.plug.step_4.setCardBg}},methods:{closeToast:function(){this.$emit("closeCard")}}},Q=M,q=(i("3935"),Object(c["a"])(Q,U,F,!1,null,"531f3bbb",null));q.options.__file="cardDetails.vue";var D=q.exports,G={data:function(){return{curType:this.$route.params.type,source_id:this.$route.query.friendId||"",browserId:this.$route.query.uid||"",activity:{},joinInfo:{join_list:[]},cardInfo:"",isQrcode:!1,isStep_1:!1,isStep_3:!1,isStep_4:!1,isStep_5:!1,isCardDetail:!1,isMyself:!0,userName:"",userTel:"",isHelped:!1}},props:["source"],components:{plugStep_1:x,plugStep_4:O,plugStep_5:L,cardDetails:D},computed:{bgImg:function(){return this.source.plug.setBgImg},leftStyle:function(){return this.source.plug.leftBtnColor},rightStyle:function(){return this.source.plug.rightBtnColor},templateSource:function(){return this.$store.state.source||{}},editor_id:function(){return this.templateSource.id},activity_id:function(){return this.templateSource.activity_id}},created:function(){"worker"==this.curType&&this.getActiveDetails(),this.source_id&&(this.isStep_4=!0)},methods:{linkDetail:function(t){"wechatApplet"==this.source.plug.runJra?this.triggerEvent(1001,{}):t&&(window.location.href=t)},startBargain:function(){this.joinInfo.join_list.length>0?"wechatApplet"==this.source.plug.runJra?this.triggerEvent(1002,{}):(this.isStep_3=!0,this.isQrcode=!0):"worker"==this.curType&&(this.isStep_5=!0)},addUserInfo:function(t){this.userName=t.userName,this.userTel=t.userTel,this.isHelped=!1,this.joinAct()},getBargainInfo:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isHelped){t.next=6;break}return t.next=3,this.getBargaindetail_my();case 3:this.isStep_1=!1,t.next=7;break;case 6:this.isStep_1=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getEditorDetails:function(){var t=this;this.$http.post({url:"/editor/detail",data:{id:this.editor_id}}).then(function(e){t.editor_id=e.editor.id,t.activity_id=e.editor.activity_id,t.getActiveDetails()})},getActiveDetails:function(){var t=this;this.$http.post({url:"/bargain/actdetail",data:{id:this.templateSource.activity_id}}).then(function(e){t.activity=e.activity,t.source_id?t.getBargaindetail_other():t.getBargaindetail_my()})},getBargaindetail_my:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={id:this.activity_id,source_id:this.browserId},t.next=3,this.$http.post({url:"/bargain/detail",data:e}).then(function(t){i.joinInfo=t}).catch(function(t){var e=t.next;return e()});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getBargaindetail_other:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={id:this.activity_id,taregt_id:this.browserId,source_id:this.source_id},t.next=3,this.$http.post({url:"/bargain/detail",data:e}).then(function(t){i.joinInfo=t,i.isMyself=!1}).catch(function(t){var e=t.next;return e()});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),joinAct:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post({url:"/bargain/joinact",data:{myid:this.browserId,template_id:this.editor_id,name:this.userName,mobile:this.userTel}}).then(function(){}).catch(function(t){var e=t.next;return e()});case 2:return t.next=4,this.getBargaindetail_my();case 4:this.isStep_5=!1,this.isStep_1=!0;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showBargainDesc:function(){this.isMyself=!0,this.isStep_4=!0},isReceive:function(){0==this.joinInfo.is_receive?this.getCard():this.redetail()},getCard:function(){var t=this;this.$http.post({url:"/bargain/receive",data:{source_id:this.browserId,template_id:this.editor_id}}).then(function(){t.joinInfo.is_receive=1}).catch(function(t){var e=t.next;return e()})},redetail:function(){var t=this;this.$http.post({url:"/bargain/redetail",data:{id:this.activity_id,source_id:this.browserId}}).then(function(e){t.cardInfo=e,t.isCardDetail=!0}).catch(function(t){var e=t.next;return e()})},closeCard:function(){this.isCardDetail=!1},closeStep_3:function(){this.isStep_3=!1},closeStep_4:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMyself){t.next=4;break}this.isStep_4=!1,t.next=7;break;case 4:return t.next=6,this.getBargaindetail_my();case 6:this.isStep_4=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),closeStep_5:function(){this.isStep_5=!1},helpBargain:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getBargaindetail_other();case 2:this.joinInfo.join_list=[],this.isHelped=!0,this.isStep_4=!1,this.isStep_1=!0;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},watch:{templateSource:function(t){"worker"===this.$route.params.type&&t&&t.id&&this.getActiveDetails()}}},Y=G,K=(i("f610"),Object(c["a"])(Y,m,_,!1,null,"160e5ec9",null));K.options.__file="canvasPlug.vue";var V=K.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ele-bg",style:t.style})},W=[],Z=i("5176"),X=i.n(Z),tt={data:function(){return{}},props:["source"],methods:{},components:{},computed:{style:function(){var t=this.source,e={opacity:t.style.opacity/100,backgroundColor:t.style.backgroundColor};return 1===t.type?(e["backgroundImage"]="url(".concat(t.img.url,")"),e=X()(e,t.img.style)):2===t.type&&(e["backgroundImage"]="url(".concat(t.texture.url,")"),e=X()(e,t.texture.style)),e}},mounted:function(){}},et=tt,it=(i("10dc"),Object(c["a"])(et,z,W,!1,null,null,null));it.options.__file="eleBg.vue";var nt=it.exports,st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ele-img",style:t.style,on:{click:t.onClick}},[i("img",{style:t.imgStyle,attrs:{src:t.source.url}})])},at=[],rt={data:function(){return{}},props:["source"],methods:{onClick:function(){}},components:{},computed:{imgStyle:function(){var t=this.source.style;return{width:this.convertToRem(t.width),height:this.convertToRem(t.height)}},style:function(){var t=this.source.style;return{width:this.convertToRem(t.width),height:this.convertToRem(t.height),top:this.convertToRem(t.top),left:this.convertToRem(t.left)}}},mounted:function(){}},ot=rt,ct=(i("47d2"),Object(c["a"])(ot,st,at,!1,null,"068713f7",null));ct.options.__file="eleImg.vue";var ut=ct.exports,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ele-hotspot",style:t.style,on:{click:t.onClick}})},dt=[],pt={data:function(){return{}},props:["source"],methods:{onClick:function(){2===this.source.action.type||window.$swiper.slideTo(this.source.action.index-1)}},components:{},computed:{style:function(){var t=this.source.style;return{width:this.convertToRem(t.width),height:this.convertToRem(t.height),top:this.convertToRem(t.top),left:this.convertToRem(t.left)}}},mounted:function(){console.log("mounted",this.source)}},ft=pt,vt=(i("1e9f"),Object(c["a"])(ft,lt,dt,!1,null,"d80ca97a",null));vt.options.__file="eleHotspot.vue";var gt=vt.exports,ht={data:function(){return{}},props:["source"],methods:{},components:{eleBg:nt,eleImg:ut,eleHotspot:gt,canvasPlug:V},computed:{style:function(){var t=this.source;return{width:this.convertToRem(t.style.width),height:this.convertToRem(t.style.height)}}},mounted:function(){}},mt=ht,_t=(i("976b"),Object(c["a"])(mt,g,h,!1,null,null,null));_t.options.__file="slidePage.vue";var bt=_t.exports,yt={name:"home",data:function(){return{source:{},templateData:"",hadLoad:!1}},props:["type","id"],methods:{initSwiper:function(){var t=new v["a"](".swiper-container",{direction:"vertical",resistanceRatio:0,mousewheel:!0,pagination:{el:".swiper-pagination",clickable:!0}});window.$swiper=t},getSource:function(t,e){var i=this,n={id:e},s=this.$route.query.mode;"template"==t?n["need_content"]=1:"worker"===t?n["need_opt"]=1:"preview"===t&&(n["need_opt"]="server"==s?2:4),this.$http.post({url:"template"==t?"template/detail":"editor/detail",data:n}).then(function(e){var n="template"==t?e.template:e.editor,a="template"==t||"worker"==t?n.content:"server"==s?n.edit_content:n.temporary_content;i.source=n,i.templateData=JSON.parse(a),i.$store.commit("updateState",{name:"source",value:n}),i.$nextTick(function(){i.initSwiper(),i.hadLoad=!0})}).catch(function(t){t.next()})}},components:{slidePage:bt},mounted:function(){this.type&&this.id&&this.getSource(this.type,this.id)}},wt=yt,Ct=(i("de16"),Object(c["a"])(wt,p,f,!1,null,null,null));Ct.options.__file="Home.vue";var It=Ct.exports;n["a"].use(d["a"]);var St=new d["a"]({routes:[{path:"/:type?/:id?/:mode?",name:"home",props:!0,component:It}]}),xt=(i("7f7f"),i("2f62"));n["a"].use(xt["a"]);var jt,kt=new xt["a"].Store({state:{source:"",env:"",runningEnvState:!0},mutations:{updateState:function(t,e){var i=e.name,n=e.value;t[i]=n}},actions:{}}),At=i("d225"),Tt=i("b0b4"),Rt=(i("6762"),i("795b")),Et=i.n(Rt),Bt=i("bc3a"),Ot=i.n(Bt),Nt=new n["a"],Ht="1.0.0",$t=["Error0201","Error1000","Error1001"];Ot.a.defaults.baseURL="https://cwapi.modelwiser.com/",Ot.a.interceptors.request.use(function(t){return t.headers["version"]=Ht,jt&&(t.headers["token"]=jt),t},function(t){return Et.a.reject(t)}),Ot.a.interceptors.response.use(function(t){var e=t.data;return e.code?$t.includes(e.code)?void Nt.$toast(e.msg):Et.a.reject({network:"success",data:e,next:function(t){Nt.$toast(t||e.code?e.msg:"系统异常")}}):e.data},function(t){return Et.a.reject({network:"fail",data:t,next:function(t){Nt.$toast(t||"网络异常")}})});var Jt,Pt,Lt=function(){function t(){Object(At["a"])(this,t),this.cancelToken=Ot.a.CancelToken}return Object(Tt["a"])(t,[{key:"post",value:function(t){return Ot()(X()({},t,{method:"post"}))}},{key:"get",value:function(t){return Ot()(X()({},t,{method:"get"}))}}]),t}(),Ut=new Lt,Ft=i("a745"),Mt=i.n(Ft),Qt=i("7618"),qt={data:function(){return{appInjectorRatio:1}},methods:{convertToRem:function(t){return"".concat(t/16,"rem")},registerWxJSD:function(t){var e=this;this.$store.commit("updateState",{name:"sdkHasLoaded",value:3}),wx.config({debug:!0,appId:"",timestamp:"",nonceStr:"",signature:"",jsApiList:[]}),wx.ready(function(){e.$store.commit("updateState",{name:"sdkHasLoaded",value:1})}),wx.error(function(t){this.$store.commit("updateState",{name:"sdkHasLoaded",value:2})})},triggerEvent:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"navigateTo",n=this.appInjectorRoute,s=n.redirectUrl,a=n.unique;s=s||"/pages/cwwebrespview/main",e="object"!==Object(Qt["a"])(e)||Mt()(e)?{params:e}:e,e=X()({},{cwunique:a,cwscene:t},e),wx.miniProgram[i]({url:"".concat(s,"?").concat(window.ObjectJoin(e))})}},components:{},computed:{appInjectorRoute:function(){return this.$route}},mounted:function(){}},Dt=qt,Gt=Object(c["a"])(Dt,Jt,Pt,!1,null,null,null);Gt.options.__file="AppInjector.vue";var Yt=Gt.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"bey-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"bey-toast"},[i("span",[t._v(t._s(t.message))])])])},Vt=[],zt={data:function(){return{visible:!1,message:"",duration:3e3,timer:null,closed:!1}},methods:{startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},close:function(){this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)},destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$el.parentNode.removeChild(this.$el)}},mounted:function(){this.startTimer()},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}}},Wt=zt,Zt=(i("3841"),Object(c["a"])(Wt,Kt,Vt,!1,null,"6a582622",null));Zt.options.__file="index.vue";var Xt=Zt.exports,te=3e3,ee={nextZIndex:function(){return te++,te}},ie=n["a"].extend(Xt),ne=1,se="",ae=function(t){t=t||{},"string"===typeof t&&(t={message:t});var e="toast_"+ne++;return se=new ie({data:t}),se.id=e,se.vm=se.$mount(),document.body.appendChild(se.vm.$el),se.vm.visible=!0,se.dom=se.vm.$el,se.dom.style.zIndex=ee.nextZIndex(),se.vm},re=ae;n["a"].prototype.$toast=re;var oe=i("2d1f"),ce=i.n(oe);i("ac6a");window.ObjectJoin=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",n=[];return ce()(t).forEach(function(t){n.push(t.join(i))}),n.join(e)};i("2fdb");function ue(t){var e=window.navigator.userAgent.toLowerCase();function i(){"miniprogram"===window.__wxjs_environment||e.includes("miniprogram")&&e.includes("micromessenger")?t("wxminiprogram"):t("ordinary")}window.WeixinJSBridge&&window.WeixinJSBridge.invoke?document.addEventListener("WeixinJSBridgeReady",i,!1):i()}var le=function(){function t(){Object(At["a"])(this,t)}return Object(Tt["a"])(t,[{key:"getEnvironment",value:function(t){"function"===typeof t&&ue(t)}}]),t}(),de=le;n["a"].prototype.$http=Ut,n["a"].config.productionTip=!1,(new de).getEnvironment(function(t){kt.commit("updateState",{name:"env",value:t})}),n["a"].mixin(Yt),new n["a"]({router:St,store:kt,render:function(t){return t(l)}}).$mount("#app"),window.domain="modelwiser.com",document.domain="modelwiser.com"},5783:function(t,e,i){"use strict";var n=i("abc8"),s=i.n(n);s.a},"64a9":function(t,e,i){},"65e7":function(t,e,i){},"78c0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAEYUlEQVRYR9WZX0xbVRzHe25vi51OKcVFKtiYFok2BkKEF/akmEKIxboam2XU8ackFrosMcITpIEn8GWh0CaUP6MsA2MVwRBoZE8bL2UhEK0GKTEVLGajFJ2zoz29x5yFu5Tm9s9tgVz71ttzfr9Pzvf8fvf3+xXwMvwghOQURX2IEHoHIVQIAJACAF7B5hBCfyKE/ACAHQDAfYIgvgMAbGXiCrDZhBB6mcfjmSCEH1MUdcHj8fy6trbm393d/XtnZ+eR1+t9BAAAcrn8hcLCwvMFBQUvlpWVSZVK5RsEQTwgSfJrHo9nAQA8TNdvWoAIoecpivqCoqjrq6urnrm5uZ9dLtcf6TrB61Qq1atqtfqt8vJyJUEQNwiC+BIA8DiVjZSAEMJLCCHb5uamr6+v757H4/krldFkvyuVypc6OzsvFhcXywAAn5Ek+U2y9UkBo9Go+fDw0NjT0zOztLS0mw1Y/N7q6uqC7u5uTU5OjpXP55sT2WYERAg9F41GbwUCgTKj0fitz+f79yThaFsymeyc1Wr9SCKRrPH5/CsAgCfxfhgBIYROr9crNxgM34dCIeo04GibIpGIsNvtHygUii2SJLUpAbGse3t7V7Ra7e3ThouFdDqdl/Pz82/Fy33sBHFAhMNhW0NDw83TkjWRGljuycnJq0Kh8FjgPAPEqQRC+FtXV9eJB0S6VwQHTm9vr4YkydfpFPQMEEu7sbFRp9fr55kMTk9PXxaJRDnt7e1fbW9vZxQ0RUVF5wYHBz8JhUKHOp3uNpMfh8NRV1JSMk9L/RQQvyEghJstLS3jifLc7Oxso1QqfS0QCDwwGAwTbCExnN1u/1QikVzw+/2/19fXjzMB4jw5MjLSSJJkMX7j0IC9brf73ba2th8SyRHrgC0k271DQ0PvV1ZW3gEAdD8FjEQiv5jN5rsul8uf7L6wdYRtZbIHvxbNZvNFgUDwJsBVSTgcdldVVVnSucxsHLJZG+97eXnZJBQKK0E0Gv18fX1d29ra6koHMN1TyQYO+xgeHlaVlpY6AYRwamJiQmCz2X5KFzAVZLZw2L7RaHxbr9eHQSQSudvf3++dmZnxsQFMBImf09HKNphi/Ws0GllHR4cCn+CWyWSaX1lZ2WcLyASJn+FUkg0ctlFRUZFnsVjq8B18XFNTcyMYDEYyAaQhR0dHG8VicT7+HgwG95qbm8fZ5spY/2KxWLC4uHgdA/5TW1s7sL+/H84GcGxs7Gpubi5uCXgHBwcPm5qabmYDmJeXJ1xYWLjGfYn/D0Ey5XA4hFar9Uc2EidLJSeaZjifqDn/qospFu6l6nUzkS6TPceKhaN6sMftdr/H2XKL8wUrPsWzKPlxYzQwMIBL/ic6nW6KKWswlvxHMnO7acKQnG476ePmdONOQ3J69HF0H7k9PIqVm5Pjt9jw5/QAkwZlGAF7UvXQ8TlOpVJJ1Wq18sRHwLGOjobo1yCE2kRDdLxeoVCcP9MhOlPGP6u/If4DsR8dkG7K1AoAAAAASUVORK5CYII="},8809:function(t,e,i){},"93a4":function(t,e,i){},"976b":function(t,e,i){"use strict";var n=i("288f"),s=i.n(n);s.a},9781:function(t,e,i){},"9e38":function(t,e,i){"use strict";var n=i("65e7"),s=i.n(n);s.a},abc8:function(t,e,i){},bc44:function(t,e,i){},c445:function(t,e,i){},cf1c:function(t,e,i){t.exports=i.p+"img/loading.aec19d79.gif"},d774:function(t,e,i){},db3e:function(t,e,i){},de16:function(t,e,i){"use strict";var n=i("f3e7"),s=i.n(n);s.a},f3e7:function(t,e,i){},f610:function(t,e,i){"use strict";var n=i("9781"),s=i.n(n);s.a}});
//# sourceMappingURL=app.85264aa4.js.map